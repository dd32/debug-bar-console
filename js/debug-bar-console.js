(function(d){var c={},b={},e,f,a;e=function(){var g=f.inputs[f.mode];if(!g){return}d.post(ajaxurl,{action:"debug_bar_console",mode:f.mode,data:g.val(),nonce:a},function(h){b.body.html(h)});return false};f={mode:"php",tabs:{},inputs:{},change:function(g){if(g==f.mode){return}if(f.tabs[f.mode]){f.tabs[f.mode].removeClass("debug-bar-console-tab-active")}c.form.removeClass("debug-bar-console-mode-"+f.mode);c.form.addClass("debug-bar-console-mode-"+g);f.mode=g;if(f.tabs[f.mode]){f.tabs[f.mode].addClass("debug-bar-console-tab-active")}}};d(document).ready(function(){d.extend(c,{form:d("#debug-bar-console"),submit:d("#debug-bar-console-submit"),output:d("#debug-bar-console-output")});a=d("#_wpnonce_debug_bar_console").val();b.css=d("#debug-bar-console-iframe-css").val();b.container=d("iframe",c.output);b.contents=b.container.contents();b.document=b.contents[0];b.body=d(b.document.body);d("head",b.contents).append('<link type="text/css" href="'+b.css+'" rel="stylesheet" />');c.submit.click(e);d(".debug-bar-console-input").keydown(function(g){if(g.which==13&&g.shiftKey){e();g.preventDefault()}});d(".debug-bar-console-tab").each(function(){var i=d(this),h=i.find("input").val(),g;if(h){f.tabs[h]=i;i.data("console-tab",h);g=d("#debug-bar-console-input-"+h);if(g.length){f.inputs[h]=g}}}).click(function(){f.change(d(this).data("console-tab"))})})})(jQuery);